<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ç‰©ç”Ÿå‘½å² - æ–‡ç‰©çš„ä¿æŠ¤ä¸é‡ç”Ÿ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Serif SC', serif;
            color: #333;
            background-color: #f5f1e8;
            overflow-x: hidden;
        }
        
        /* å¯¼èˆªæ  */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(138, 37, 28, 0.95);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .logo {
            display: flex;
            align-items: center;
            color: #e6d2a9;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 1.5rem;
        }
        
        .nav-links a {
            color: #e6d2a9;
            text-decoration: none;
            font-size: 1.1rem;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #daa520;
        }
        
        .back-to-main {
            background-color: #daa520;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            color: #333;
            font-weight: 600;
        }
        
        /* å°é¢é¡µæ ·å¼ */
        .cover-section {
            height: 100vh;
            width: 100%;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #1a0f0c;
        }
        
        .relic-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('image/7.jpg');
            background-size: cover;
            background-position: center;
            opacity: 0.4;
        }
        
        .cover-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: #fff;
            padding: 2rem;
            max-width: 900px;
        }
        
        .cover-title {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
            letter-spacing: 2px;
            color: #e6d2a9;
        }
        
        .cover-subtitle {
            font-size: 1.5rem;
            line-height: 1.8;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            max-width: 700px;
            margin: 0 auto;
            color: #fff;
        }
        
        .cover-intro {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: rgba(26, 15, 12, 0.7);
            border-radius: 8px;
            border-left: 5px solid #daa520;
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            color: #fff;
            text-align: center;
            animation: bounce 2s infinite;
        }
        
        .scroll-indicator i {
            font-size: 1.8rem;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }
        
        /* è¿ç§»åœ°å›¾åŒºåŸŸ - èåˆç‰ˆ */
        .migration-section {
            min-height: 100vh;
            background-color: #2d1c16;
            padding: 5rem 2rem;
            position: relative;
        }
        
        .section-title {
            text-align: center;
            color: #e6d2a9;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title:after {
            content: "";
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 4px;
            background-color: #b8860b;
        }
        
        .migration-container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            background-color: rgba(26, 15, 12, 0.8);
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid #8a251c;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .map-wrapper {
            flex: 1;
            height: 600px;
            min-width: 0;
            position: relative;
            background-color: #1a0f0c;
        }
        
        #migration-chart {
            width: 100%;
            height: 100%;
        }
        
        .map-controls {
            width: 350px;
            background-color: rgba(45, 28, 22, 0.9);
            padding: 1.5rem;
            overflow-y: auto;
            border-left: 2px solid #8a251c;
        }
        
        .control-title {
            color: #daa520;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .phase-controls {
            margin-bottom: 2rem;
        }
        
        .phase-controls h3 {
            color: #e6d2a9;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid #8a251c;
            padding-bottom: 0.5rem;
        }
        
        .phase-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .phase-btn {
            background-color: rgba(138, 37, 28, 0.5);
            color: #e6d2a9;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
        }
        
        .phase-btn:hover {
            background-color: rgba(138, 37, 28, 0.8);
            color: #daa520;
        }
        
        .phase-btn.active {
            background-color: #8a251c;
            color: #daa520;
            box-shadow: 0 0 10px rgba(218, 165, 32, 0.5);
        }
        
        .transport-toggle {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .transport-toggle label {
            color: #e6d2a9;
            font-size: 1rem;
        }
        
        .timeline-slider-container {
            margin-top: 2rem;
        }
        
        .timeline-slider {
            width: 100%;
            height: 10px;
            -webkit-appearance: none;
            appearance: none;
            background: linear-gradient(to right, #8a251c, #daa520, #8a251c);
            outline: none;
            border-radius: 5px;
            margin-bottom: 1rem;
        }
        
        .timeline-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #e6d2a9;
            cursor: pointer;
            border: 3px solid #daa520;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            color: #e6d2a9;
            font-size: 0.9rem;
        }
        
        .route-info {
            margin-top: 2rem;
            padding: 1rem;
            background-color: rgba(26, 15, 12, 0.7);
            border-radius: 8px;
            border-left: 5px solid #daa520;
        }
        
        .route-info h3 {
            color: #daa520;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }
        
        .route-info p {
            color: #e6d2a9;
            margin-bottom: 0.5rem;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .route-info strong {
            color: #fff;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #8a251c;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            color: #e6d2a9;
            font-size: 0.9rem;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            border-radius: 4px;
        }
        
        /* å›¾è¡¨åŒºåŸŸ */
        .charts-section {
            min-height: 100vh;
            background-color: #f5f1e8;
            padding: 5rem 2rem;
        }
        
        .charts-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .chart-row {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .chart-card {
            flex: 1;
            min-width: 300px;
            background-color: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border: 2px solid #8a251c;
        }
        
        .chart-title {
            text-align: center;
            color: #8a251c;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #daa520;
            padding-bottom: 0.5rem;
        }
        
        .chart-wrapper {
            width: 100%;
            height: 300px;
            position: relative;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
        }
        
        .stat-card {
            background-color: #fff;
            padding: 4rem;
            border-radius: 16px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-top: 5px solid #8a251c;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            color: #8a251c;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 1.2rem;
            color: #333;
        }
        
        /* é¡µè„š */
        footer {
            background-color: #1a0f0c;
            color: #e6d2a9;
            text-align: center;
            padding: 2rem;
            font-size: 1.1rem;
        }
        
        .footer-logo {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: #daa520;
        }
        
        .footer-nav {
            margin: 1.5rem 0;
        }
        
        .footer-nav a {
            color: #e6d2a9;
            margin: 0 1rem;
            text-decoration: none;
        }
        
        .footer-nav a:hover {
            color: #daa520;
            text-decoration: underline;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .migration-container {
                flex-direction: column;
            }
            
            .map-wrapper {
                height: 500px;
            }
            
            .map-controls {
                width: 100%;
                border-left: none;
                border-top: 2px solid #8a251c;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem;
                flex-direction: column;
            }
            
            .nav-links {
                margin-top: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .nav-links li {
                margin: 0.5rem;
            }
            
            .cover-title {
                font-size: 2.5rem;
            }
            
            .cover-subtitle {
                font-size: 1.5rem;
            }
            
            .cover-intro {
                font-size: 1.1rem;
                padding: 1rem;
            }
            
            .map-wrapper {
                height: 400px;
            }
            
            .chart-row {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .cover-title {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .map-wrapper {
                height: 350px;
            }
            
            .chart-card {
                padding: 1rem;
            }
            
            .chart-wrapper {
                height: 250px;
            }
        }
        /* æ–‡ç‰©ä¿®å¤è¿‡ç¨‹æ ·å¼ */
.repair-process-section {
    min-height: 100vh;
    background-color: #f8f4e9;
    padding: 5rem 2rem;
}

.process-container {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
}

.process-timeline {
    position: relative;
    padding-left: 30px;
}

.process-timeline::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(to bottom, #8a251c, #daa520);
    border-radius: 2px;
}

.process-step {
    position: relative;
    margin-bottom: 3rem;
    background-color: white;
    border-radius: 10px;
    padding: 2rem;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(138, 37, 28, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.process-step:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(138, 37, 28, 0.15);
}

.process-step::before {
    content: '';
    position: absolute;
    left: -37px;
    top: 40px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background-color: #8a251c;
    border: 4px solid #fff;
    box-shadow: 0 0 0 2px #8a251c;
    z-index: 10;
}

.step-header {
    display: flex;
    align-items: center;
    margin-bottom: 1.5rem;
}

.step-number {
    font-size: 2rem;
    font-weight: 700;
    color: #8a251c;
    margin-right: 1rem;
    background-color: rgba(138, 37, 28, 0.1);
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

.step-title {
    font-size: 1.8rem;
    color: #333;
    margin: 0;
    font-weight: 600;
}

.step-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: start;
}

.step-description p {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #555;
    margin-bottom: 1rem;
}

.step-details {
    list-style-type: none;
    padding-left: 0;
    margin-top: 1rem;
}

.step-details li {
    position: relative;
    padding-left: 1.5rem;
    margin-bottom: 0.5rem;
    color: #666;
}

.step-details li::before {
    content: 'â€¢';
    position: absolute;
    left: 0;
    color: #daa520;
    font-size: 1.2rem;
}

.step-image {
    height: 250px;
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.step-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.step-image:hover img {
    transform: scale(1.05);
}

/* æ–‡ç‰©ä¿®å¤è¿‡ç¨‹æ ·å¼ */
.repair-process-section {
    min-height: 100vh;
    background-color: #f8f4e9;
    padding: 5rem 2rem;
}

.process-container {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
}

.process-intro {
    background-color: rgba(138, 37, 28, 0.05);
    border-left: 4px solid #8a251c;
    padding: 1.5rem;
    margin-bottom: 3rem;
    border-radius: 0 8px 8px 0;
}

.process-intro p {
    font-size: 1.2rem;
    line-height: 1.6;
    color: #333;
    margin: 0;
}

.process-timeline {
    position: relative;
    padding-left: 50px;
}

.process-timeline::before {
    content: '';
    position: absolute;
    left: 20px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, #8a251c, #daa520, #8a251c);
    border-radius: 1px;
}

.process-step {
    position: relative;
    margin-bottom: 2.5rem;
    background-color: white;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
    border: 1px solid rgba(138, 37, 28, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.process-step:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(138, 37, 28, 0.1);
}

.process-step::before {
    content: '';
    position: absolute;
    left: -55px;
    top: 35px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: white;
    border: 4px solid #8a251c;
    box-shadow: 0 0 0 3px rgba(138, 37, 28, 0.1);
    z-index: 10;
}

.step-header {
    display: flex;
    align-items: flex-start;
    margin-bottom: 1.5rem;
}

.step-number {
    font-size: 2.2rem;
    font-weight: 700;
    color: #8a251c;
    margin-right: 1.2rem;
    background-color: rgba(138, 37, 28, 0.08);
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
    flex-shrink: 0;
}

.step-title-content {
    flex: 1;
}

.step-title {
    font-size: 1.8rem;
    color: #333;
    margin: 0 0 0.5rem 0;
    font-weight: 600;
}

.step-subtitle {
    font-size: 1rem;
    color: #8a251c;
    font-weight: 500;
    letter-spacing: 0.5px;
}

.step-content {
    padding-left: 1rem;
}

.step-description {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #555;
}

.step-main-desc {
    font-size: 1.2rem;
    font-weight: 500;
    color: #333;
    margin-bottom: 1.2rem;
    line-height: 1.7;
}

.step-secondary-desc {
    font-size: 1.1rem;
    color: #666;
    margin-top: 1rem;
    line-height: 1.6;
    padding-left: 1rem;
    border-left: 3px solid rgba(218, 165, 32, 0.3);
}

.step-details {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.detail-item {
    display: flex;
    align-items: center;
    padding: 0.8rem 1rem;
    background-color: rgba(245, 241, 232, 0.5);
    border-radius: 8px;
    border-left: 3px solid #daa520;
    transition: background-color 0.3s ease;
}

.detail-item:hover {
    background-color: rgba(245, 241, 232, 0.9);
}

.detail-icon {
    font-size: 1.3rem;
    margin-right: 0.8rem;
    width: 30px;
    text-align: center;
}

.process-summary {
    margin-top: 4rem;
    padding: 2rem;
    background-color: rgba(26, 15, 12, 0.03);
    border-radius: 12px;
    border: 1px solid rgba(138, 37, 28, 0.1);
}

.summary-box {
    max-width: 800px;
    margin: 0 auto;
}

.summary-title {
    font-size: 1.5rem;
    color: #8a251c;
    margin-bottom: 1.5rem;
    text-align: center;
    border-bottom: 2px solid rgba(138, 37, 28, 0.2);
    padding-bottom: 0.8rem;
}

.summary-list {
    list-style-type: none;
    padding-left: 0;
}

.summary-list li {
    position: relative;
    padding-left: 2.5rem;
    margin-bottom: 1.2rem;
    font-size: 1.1rem;
    line-height: 1.6;
    color: #555;
}

.summary-list li::before {
    content: 'âœ“';
    position: absolute;
    left: 0;
    top: 0;
    width: 1.8rem;
    height: 1.8rem;
    background-color: #8a251c;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .repair-process-section {
        padding: 3rem 1rem;
    }
    
    .process-timeline {
        padding-left: 40px;
    }
    
    .process-step::before {
        left: -48px;
    }
    
    .step-number {
        width: 60px;
        height: 60px;
        font-size: 1.8rem;
        margin-right: 1rem;
    }
    
    .step-title {
        font-size: 1.5rem;
    }
    
    .step-details {
        grid-template-columns: 1fr;
    }
    
    .step-main-desc {
        font-size: 1.1rem;
    }
    
    .detail-item {
        padding: 0.6rem 0.8rem;
    }
}

@media (max-width: 480px) {
    .process-timeline {
        padding-left: 30px;
    }
    
    .process-step::before {
        left: -38px;
        width: 20px;
        height: 20px;
        border-width: 3px;
    }
    
    .process-step {
        padding: 1.5rem;
    }
    
    .step-number {
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
    }
    
    .step-title {
        font-size: 1.3rem;
    }
}
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-landmark"></i>
            <span>æ•…å®«åšç‰©é™¢</span>
        </div>
        <ul class="nav-links">
            <li><a href="space-open-history.html">ç©ºé—´å¼€æ”¾å²</a></li>
            <li><a href="palace-protection-history.html" class="active">æ–‡ç‰©ç”Ÿå‘½å²</a></li>
            <li><a href="guardian-history.html">æ•…å®«å®ˆæŠ¤å²</a></li>
            <li><a href="culture-communication-history.html">æ–‡åŒ–ä¼ æ’­å²</a></li>
            <li><a href="index.html" class="back-to-main">è¿”å›é¦–é¡µ</a></li>
        </ul>
    </nav>
    
    <!-- å°é¢é¡µ -->
    <section class="cover-section">
        <div class="relic-bg"></div>
        <div class="cover-content">
            <h1 class="cover-title">æ–‡ç‰©ç”Ÿå‘½å²</h1>
            <p class="cover-subtitle">æ–‡ç‰©çš„ä¿æŠ¤ä¸é‡ç”Ÿ</p>
            <div class="cover-intro">
                <p>æˆ˜äº‰ä¸­ï¼Œæ–‡ç‰©é•¿é€”è¿å¾€è¥¿å—ï¼Œè·¨è¶Š 6000 å…¬é‡Œï¼Œä¸ºäº†é¿éš¾ã€‚æ–°ä¸­å›½æˆç«‹åï¼Œå¤§è§„æ¨¡ä¿®å¤ã€æ¸…ç‚¹ã€ç¼–ç›®ï¼Œè®©æ–‡ç‰©é‡æ–°"å›å½’ç”Ÿå‘½"ã€‚è¿›å…¥ 21 ä¸–çºªï¼Œæ–‡ç‰©ä»åº“æˆ¿èµ°å‘äº‘ç«¯ï¼Œæˆä¸ºäººäººå¯è§¦åŠçš„æ•°å­—æ–‡åŒ–èµ„æºã€‚</p>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
            <p>æ¢ç´¢æ–‡ç‰©æ—…ç¨‹</p>
        </div>
    </section>
    
    <!-- è¿ç§»åœ°å›¾åŒºåŸŸ -->
    <section class="migration-section">
        <h2 class="section-title">æ•…å®«æ–‡ç‰©è¿ç§»è·¯çº¿å›¾</h2>
        
        <div class="migration-container">
            <div class="map-wrapper">
                <div id="migration-chart"></div>
            </div>
            <div class="map-controls">
                <h2 class="control-title">æ–‡ç‰©è¿ç§»æ§åˆ¶é¢æ¿</h2>
                
                <div class="phase-controls">
                    <h3>è¿ç§»é˜¶æ®µé€‰æ‹©</h3>
                    <div class="phase-buttons" id="phaseButtons">
                        <!-- é˜¶æ®µæŒ‰é’®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="transport-toggle">
                        <label for="allPhases">æ˜¾ç¤ºæ‰€æœ‰é˜¶æ®µ</label>
                        <input type="checkbox" id="allPhases" checked>
                    </div>
                </div>
                
                <div class="timeline-slider-container">
                    <h3>æ—¶é—´è½´æ§åˆ¶</h3>
                    <input type="range" min="1933" max="1958" value="1958" step="1" class="timeline-slider" id="timelineSlider">
                    <div class="slider-labels">
                        <span>1933</span>
                        <span>1958</span>
                    </div>
                    <div id="currentYear" style="text-align: center; color: #daa520; font-size: 1.2rem; margin-top: 0.5rem;">1958å¹´</div>
                </div>
                
                <div class="route-info" id="routeInfo">
                    <h3 id="routeTitle">å¯è¿å—è¿</h3>
                    <p><strong>è·¯çº¿ï¼š</strong><span id="routePath">åŒ—å¹³ â†’ ä¸Šæµ· (é“è·¯åŠæ°´è¿)</span></p>
                    <p><strong>æ—¶é—´ï¼š</strong><span id="routeTime">1933-1933</span></p>
                    <p><strong>æ–‡ç‰©æ•°é‡ï¼š</strong><span id="routeCount">æ€»è®¡ 19,557ç®±</span></p>
                    <p><strong>å­˜æ”¾åœ°ï¼š</strong><span id="routeStorage">ä¸Šæµ·æ³•ç§Ÿç•Œä»“åº“</span></p>
                    <p><strong>æ ¸å¿ƒäº‹ä»¶ï¼š</strong><span id="routeEvent">ä¸ºé¿æˆ˜ç«ï¼Œæ•…å®«æ–‡ç‰©è‡ªåŒ—å¹³ç´§æ€¥å—è¿ï¼Œåˆ†äº”æ‰¹ç»é“è·¯è¿æŠµä¸Šæµ·ã€‚</span></p>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #8a251c;"></div>
                        <span>é“è·¯è¿è¾“</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #1e6bb8;"></div>
                        <span>æ°´è·¯è¿è¾“</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #2e7d32;"></div>
                        <span>å…¬è·¯è¿è¾“</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #E2C33D;"></div>
                        <span>æ–‡ç‰©è¿ç§»ç‚¹</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- å›¾è¡¨åŒºåŸŸ -->
    <section class="charts-section">
        <h2 class="section-title" style="color: #8a251c;">æ•…å®«æ–‡ç‰©æ•°æ®ç»Ÿè®¡</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">1,863,404</div>
                    <div class="stat-label">è—å“æ€»é‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">153,415</div>
                    <div class="stat-label">æ•°å­—æ–‡ç‰©åº“</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">602,124</div>
                    <div class="stat-label">å¤ç±æ–‡çŒ®</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">377,440</div>
                    <div class="stat-label">é™¶ç“·è—å“</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">159,728</div>
                    <div class="stat-label">é“œå™¨è—å“</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">181,709</div>
                    <div class="stat-label">ç»‡ç»£è—å“</div>
                </div>
            </div>
        </div>
    </section>

    <!-- æ–‡ç‰©ä¿®å¤è¿‡ç¨‹å±•ç¤ºï¼ˆæ— å›¾ç‰‡ç‰ˆï¼‰ -->
<section class="repair-process-section">
    <h2 class="section-title" style="color: #8a251c;">æ–‡ç‰©ä¿®å¤å·¥è‰ºæµç¨‹</h2>
    
    <div class="process-container">
        <div class="process-intro">
            <p>æ•…å®«æ–‡ç‰©ä¿®å¤éµå¾ª"æœ€å°å¹²é¢„ã€å¯é€†æ€§ã€å¯è¯†åˆ«"åŸåˆ™ï¼Œä¸¥æ ¼æŒ‰ç…§ä¼ ç»Ÿå·¥è‰ºä¸ç°ä»£ç§‘æŠ€ç›¸ç»“åˆçš„æ–¹å¼è¿›è¡Œã€‚ä»¥ä¸‹æ˜¯å…¸å‹æœ¨å™¨æ–‡ç‰©ä¿®å¤çš„è¯¦ç»†å·¥è‰ºæµç¨‹ï¼š</p>
        </div>
        
        <div class="process-timeline">
            <!-- æ­¥éª¤1: å»æ±¡é™¤å°˜ -->
            <div class="process-step">
                <div class="step-header">
                    <div class="step-number">01</div>
                    <div class="step-title-content">
                        <h3 class="step-title">å»æ±¡é™¤å°˜</h3>
                        <div class="step-subtitle">æ¸…æ´æ˜¯ä¿®å¤çš„ç¬¬ä¸€æ­¥</div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="step-description">
                        <p class="step-main-desc">ä¸ºä¿è¯ä¸è®©æ°´åˆ†ä¾µå…¥è€Œé€ æˆç ´åï¼Œæ‰€ä»¥ç”¨æ°”æ³µä¸€ç‚¹ç‚¹åœ°åå¤å¹å‡€ã€‚</p>
                        <div class="step-details">
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ§¹</span>
                                <span>ä½¿ç”¨çº¯æ£‰å¸ƒåˆæ­¥æ¸…ç†ç°å°˜</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸª¶</span>
                                <span>ç”¨æ¯›åˆ·æ¸…ç†æ¡Œé¢åº•éƒ¨ç°å°˜</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ­¥éª¤2: æ‹†å¸ -->
            <div class="process-step">
                <div class="step-header">
                    <div class="step-number">02</div>
                    <div class="step-title-content">
                        <h3 class="step-title">æ‹†å¸</h3>
                        <div class="step-subtitle">åˆ†è§£æ£€æŸ¥æ¯ä¸ªéƒ¨ä»¶</div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="step-description">
                        <p class="step-main-desc">å°†æ–‡ç‰©æ‹†è§£ä¸ºå„ä¸ªéƒ¨ä»¶ï¼Œä¾¿äºè¿›è¡Œè¯¦ç»†æ£€æŸ¥å’Œä¿®å¤ã€‚</p>
                        <div class="step-details">
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ”§</span>
                                <span>åˆæ­¥æ‹†å¸</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ§©</span>
                                <span>æ‹†å¸åçš„æ•£ä»¶éƒ¨åˆ†</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ­¥éª¤3: ä¿®å¤ä¿®è¡¥ -->
            <div class="process-step">
                <div class="step-header">
                    <div class="step-number">03</div>
                    <div class="step-title-content">
                        <h3 class="step-title">ä¿®å¤ä¿®è¡¥</h3>
                        <div class="step-subtitle">ç²¾ç»†ä¿®å¤ä¸æ¸…ç†</div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="step-description">
                        <p class="step-main-desc">å¯¹æ–‡ç‰©è¿›è¡Œç²¾ç»†ä¿®å¤ï¼Œæ¸…é™¤æ—§èƒ¶ã€æ±¡å¢ç­‰ï¼Œæ¢å¤å…¶åŸæœ‰çŠ¶æ€ã€‚</p>
                        <div class="step-details">
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ’§</span>
                                <span>è½¯åŒ–æ¸…ç†æ¦«å¯å¤„çš„èƒ¶çŠ¶ç‰©</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ§½</span>
                                <span>æ¸…é™¤æ¡Œé¢æ¼†ç±»æ±¡å¢</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ§¤</span>
                                <span>ä½¿ç”¨è˜¸æœ‰æ¶²ä½“çš„è„±è„‚æ£‰è½¯åŒ–æ¡Œé¢æ¼†ç‰©</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ”¨</span>
                                <span>ä½¿ç”¨åŒæè´¨çš„å·¥å…·æ¸…é™¤æ¼†ç‰©</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ‹</span>
                                <span>ä½¿ç”¨ç«¹åˆ¶å·¥å…·å‰”é™¤æ­»è§’å¼‚ç‰©</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ–Œï¸</span>
                                <span>ä½¿ç”¨è˜¸æœ‰æ¶²ä½“çš„æ£‰å¸ƒã€é¬“åˆ·æ¸…é™¤é›•åˆ»æ·±å¤„å¼‚ç‰©</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">ğŸ²</span>
                                <span>ç†¬åˆ¶é³”èƒ¶</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ­¥éª¤4: ç»„è£… -->
            <div class="process-step">
                <div class="step-header">
                    <div class="step-number">04</div>
                    <div class="step-title-content">
                        <h3 class="step-title">ç»„è£…</h3>
                        <div class="step-subtitle">ä¼ ç»ŸæŠ€è‰º"æ”’æ´»"</div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="step-description">
                        <p class="step-main-desc">ç»„è£…ï¼Œè¡Œä¸šæœ¯è¯­å«"æ”’æ´»"ï¼Œå³æŠŠæ‰€æœ‰çš„éƒ¨ä»¶æ­£å¼ç»„è£…èµ·æ¥ï¼Œä¹Ÿæœ‰å«"ä½¿é³”"çš„ã€‚</p>
                        <p class="step-secondary-desc">ä½¿ç”¨ä¼ ç»Ÿçš„é³”èƒ¶è¿›è¡Œç²˜åˆï¼Œç¡®ä¿ç»“æ„ç¨³å›ºä¸”å¯é€†ã€‚é³”èƒ¶ç”±é±¼é³”ç†¬åˆ¶è€Œæˆï¼Œæ˜¯ä¼ ç»Ÿæœ¨å™¨ä¿®å¤ä¸­æœ€ç†æƒ³çš„ç²˜åˆå‰‚ã€‚</p>
                    </div>
                </div>
            </div>
            
            <!-- æ­¥éª¤5: çƒ«èœ¡ -->
            <div class="process-step">
                <div class="step-header">
                    <div class="step-number">05</div>
                    <div class="step-title-content">
                        <h3 class="step-title">çƒ«èœ¡</h3>
                        <div class="step-subtitle">è¡¨é¢ä¿æŠ¤å¤„ç†</div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="step-description">
                        <p class="step-main-desc">ä½¿ç”¨å¤©ç„¶èœ‚èœ¡å¯¹æ–‡ç‰©è¡¨é¢è¿›è¡Œä¿æŠ¤å¤„ç†ï¼Œæ—¢èƒ½ä¿æŠ¤æœ¨æï¼Œåˆèƒ½å‘ˆç°è‡ªç„¶å…‰æ³½ã€‚</p>
                        <p class="step-secondary-desc">çƒ«èœ¡å·¥è‰ºèƒ½å¤Ÿé˜²æ­¢æœ¨æå¹²è£‚ï¼ŒåŒæ—¶ä½¿æ–‡ç‰©è¡¨é¢å½¢æˆä¸€å±‚ä¿æŠ¤è†œï¼Œé€æ°”æ€§å¥½ä¸”æ˜“äºåæœŸç»´æŠ¤ã€‚</p>
                    </div>
                </div>
            </div>
            
            <!-- æ­¥éª¤6: æ£€éªŒ -->
            <div class="process-step">
                <div class="step-header">
                    <div class="step-number">06</div>
                    <div class="step-title-content">
                        <h3 class="step-title">æ£€éªŒ</h3>
                        <div class="step-subtitle">ä¸¥æ ¼è´¨é‡éªŒæ”¶</div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="step-description">
                        <p class="step-main-desc">åœ¨æ•´ä¸ªä¿®å¤å·¥è‰ºæµç¨‹ä¸­ï¼Œæ¯é“å·¥åºå‡éœ€æŒ‰ç…§ç›¸åº”çš„è´¨é‡æŠ€æœ¯æ ‡å‡†è¿›è¡Œæ£€éªŒï¼Œæœ€ç»ˆçš„æˆå“è¿˜è¦ç»è¿‡æ•…å®«ä¸“å®¶ä¸¥æ ¼ã€å…¨é¢çš„è´¨é‡éªŒæ”¶ã€‚</p>
                        <p class="step-secondary-desc">ç¡®ä¿ä¿®å¤å·¥ä½œç¬¦åˆ"ä¿®æ—§å¦‚æ—§"çš„åŸåˆ™ï¼Œæ—¢ä¿æŠ¤æ–‡ç‰©ä»·å€¼ï¼Œåˆæ¢å¤å…¶ä½¿ç”¨åŠŸèƒ½ã€‚éªŒæ”¶æ ‡å‡†åŒ…æ‹¬ç»“æ„ç¨³å®šæ€§ã€ææ–™åŒ¹é…æ€§ã€å·¥è‰ºè§„èŒƒæ€§ç­‰å¤šä¸ªæ–¹é¢ã€‚</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="process-summary">
            <div class="summary-box">
                <h4 class="summary-title">ä¿®å¤åŸåˆ™</h4>
                <ul class="summary-list">
                    <li><strong>æœ€å°å¹²é¢„åŸåˆ™ï¼š</strong>å°½å¯èƒ½ä¿ç•™æ–‡ç‰©åŸè²Œï¼Œä¸åšä¸å¿…è¦çš„ä¿®å¤</li>
                    <li><strong>å¯é€†æ€§åŸåˆ™ï¼š</strong>ä¿®å¤ææ–™å’Œå·¥è‰ºåº”å…·æœ‰å¯é€†æ€§ï¼Œä¾¿äºæœªæ¥å†æ¬¡ä¿®å¤</li>
                    <li><strong>å¯è¯†åˆ«åŸåˆ™ï¼š</strong>ä¿®å¤éƒ¨åˆ†åº”ä¸åŸç‰©æœ‰æ‰€åŒºåˆ†ï¼Œç¡®ä¿å†å²çœŸå®æ€§</li>
                    <li><strong>ææ–™åŒ¹é…åŸåˆ™ï¼š</strong>ä¿®å¤ææ–™åº”ä¸åŸæ–‡ç‰©ææ–™ç›¸åŒæˆ–ç›¸ä¼¼</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- é¡µè„š -->
<footer>
    <!-- é¡µè„šå†…å®¹ä¿æŒä¸å˜ -->
</footer>
    
    <!-- é¡µè„š -->
    <footer>
        <div class="footer-logo">
            <i class="fas fa-landmark"></i>
        </div>
        <p>æ•…å®«åšç‰©é™¢ | æˆç«‹äº1925å¹´ | ä¸–ç•Œæ–‡åŒ–é—äº§</p>
        <div class="footer-nav">
            <a href="home.html">é¦–é¡µ</a>
            <a href="space-open-history.html">ç©ºé—´å¼€æ”¾å²</a>
            <a href="palace-protection-history.html">æ–‡ç‰©ç”Ÿå‘½å²</a>
            <a href="guardian-history.html">æ•…å®«å®ˆæŠ¤å²</a>
            <a href="culture-communication-history.html">æ–‡åŒ–ä¼ æ’­å²</a>
        </div>
        <p>Â© 2025 æ•…å®«åšç‰©é™¢ç™¾å¹´çºªå¿µ | JIAJIAå·¥ä½œå®¤</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è¿ç§»è·¯çº¿æ•°æ®
            const migrationData = [
                {
                    id: "south1",
                    phase: "å¯è¿å—è¿",
                    route: "åŒ—å¹³ â†’ ä¸Šæµ· (é“è·¯åŠæ°´è¿)",
                    startCity: "åŒ—äº¬",
                    endCity: "ä¸Šæµ·",
                    transport: "railway",
                    color: "#8a251c",
                    years: "1933-1933",
                    count: "æ€»è®¡ 19,557ç®± (å«æ•…å®«ã€å¤ç‰©é™ˆåˆ—æ‰€ç­‰å•ä½æ–‡ç‰©)ã€‚å…¶ä¸­ï¼Œæ•…å®«æ–‡ç‰© 13,427ç®±åˆ64åŒ…ã€‚",
                    storage: "ä¸Šæµ·æ³•ç§Ÿç•Œä»“åº“",
                    event: "ä¸ºé¿æˆ˜ç«ï¼Œæ•…å®«æ–‡ç‰©è‡ªåŒ—å¹³ç´§æ€¥å—è¿ï¼Œåˆ†äº”æ‰¹ç»é“è·¯è¿æŠµä¸Šæµ·ã€‚",
                    startYear: 1933,
                    endYear: 1933
                },
                {
                    id: "south2",
                    phase: "è½¬å­˜å—äº¬",
                    route: "ä¸Šæµ· â†’ å—äº¬ (é•¿æ±Ÿèˆªè¿)",
                    startCity: "ä¸Šæµ·",
                    endCity: "å—äº¬",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1936-1937",
                    count: "åŒå¯è¿å—è¿çš„ç®±ä»¶ï¼ˆæ€»19,557ç®±ï¼‰ã€‚",
                    storage: "å—äº¬æœå¤©å®«åº“æˆ¿",
                    event: "ä¸Šæµ·æ–‡ç‰©è½¬è¿è‡³å—äº¬æ–°å»ºæˆçš„æœå¤©å®«åº“æˆ¿ã€‚",
                    startYear: 1936,
                    endYear: 1937
                },
                {
                    id: "west1",
                    phase: "æŠ—æˆ˜è¥¿è¿ (å—è·¯)",
                    route: "å—äº¬ â†’ é•¿æ²™ (æ°´è¿)",
                    startCity: "å—äº¬",
                    endCity: "é•¿æ²™",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1937-1939",
                    count: "çº¦80ç®±",
                    storage: "å››å·å·´å¿",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚å—è·¯ç»é•¿æ²™ã€è´µé˜³è‡³å®‰é¡ºã€å››å·å·´å¿ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west2",
                    phase: "æŠ—æˆ˜è¥¿è¿ (å—è·¯)",
                    route: "é•¿æ²™ â†’ è´µé˜³ (å…¬è·¯)",
                    startCity: "é•¿æ²™",
                    endCity: "è´µé˜³",
                    transport: "highway",
                    color: "#2e7d32",
                    years: "1937-1939",
                    count: "çº¦80ç®±",
                    storage: "å››å·å·´å¿",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚å—è·¯ç»é•¿æ²™ã€è´µé˜³è‡³å®‰é¡ºã€å››å·å·´å¿ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west3",
                    phase: "æŠ—æˆ˜è¥¿è¿ (å—è·¯)",
                    route: "è´µé˜³ â†’ å®‰é¡º â†’ å››å·å·´å¿ (å…¬è·¯)",
                    startCity: "è´µé˜³",
                    endCity: "é‡åº†",
                    transport: "highway",
                    color: "#2e7d32",
                    years: "1937-1939",
                    count: "çº¦80ç®±",
                    storage: "å››å·å·´å¿",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚å—è·¯ç»é•¿æ²™ã€è´µé˜³è‡³å®‰é¡ºã€å››å·å·´å¿ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west4",
                    phase: "æŠ—æˆ˜è¥¿è¿ (ä¸­è·¯)",
                    route: "å—äº¬ â†’ æ±‰å£ (é•¿æ±Ÿèˆªè¿)",
                    startCity: "å—äº¬",
                    endCity: "æ­¦æ±‰",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1937-1939",
                    count: "çº¦9,331ç®±",
                    storage: "å››å·ä¹å±±",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚ä¸­è·¯ç»æ±‰å£ã€å®œæ˜Œã€é‡åº†è‡³ä¹å±±ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west5",
                    phase: "æŠ—æˆ˜è¥¿è¿ (ä¸­è·¯)",
                    route: "æ±‰å£ â†’ å®œæ˜Œ â†’ é‡åº† (é•¿æ±Ÿèˆªè¿)",
                    startCity: "æ­¦æ±‰",
                    endCity: "é‡åº†",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1937-1939",
                    count: "çº¦9,331ç®±",
                    storage: "å››å·ä¹å±±",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚ä¸­è·¯ç»æ±‰å£ã€å®œæ˜Œã€é‡åº†è‡³ä¹å±±ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west6",
                    phase: "æŠ—æˆ˜è¥¿è¿ (ä¸­è·¯)",
                    route: "é‡åº† â†’ ä¹å±± (å²·æ±Ÿæ°´è¿)",
                    startCity: "é‡åº†",
                    endCity: "ä¹å±±",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1937-1939",
                    count: "çº¦9,331ç®±",
                    storage: "å››å·ä¹å±±",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚ä¸­è·¯ç»æ±‰å£ã€å®œæ˜Œã€é‡åº†è‡³ä¹å±±ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west7",
                    phase: "æŠ—æˆ˜è¥¿è¿ (åŒ—è·¯)",
                    route: "å—äº¬ â†’ å¾å· (é“è·¯)",
                    startCity: "å—äº¬",
                    endCity: "å¾å·",
                    transport: "railway",
                    color: "#8a251c",
                    years: "1937-1939",
                    count: "çº¦7,287ç®±",
                    storage: "å››å·å³¨çœ‰",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚åŒ—è·¯ç»å¾å·ã€å®é¸¡ã€æ±‰ä¸­è‡³å³¨çœ‰ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west8",
                    phase: "æŠ—æˆ˜è¥¿è¿ (åŒ—è·¯)",
                    route: "å¾å· â†’ å®é¸¡ (é“è·¯)",
                    startCity: "å¾å·",
                    endCity: "å®é¸¡",
                    transport: "railway",
                    color: "#8a251c",
                    years: "1937-1939",
                    count: "çº¦7,287ç®±",
                    storage: "å››å·å³¨çœ‰",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚åŒ—è·¯ç»å¾å·ã€å®é¸¡ã€æ±‰ä¸­è‡³å³¨çœ‰ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west9",
                    phase: "æŠ—æˆ˜è¥¿è¿ (åŒ—è·¯)",
                    route: "å®é¸¡ â†’ æ±‰ä¸­ â†’ æˆéƒ½ (å¡è½¦å…¬è·¯)",
                    startCity: "å®é¸¡",
                    endCity: "æˆéƒ½",
                    transport: "highway",
                    color: "#2e7d32",
                    years: "1937-1939",
                    count: "çº¦7,287ç®±",
                    storage: "å››å·å³¨çœ‰",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚åŒ—è·¯ç»å¾å·ã€å®é¸¡ã€æ±‰ä¸­è‡³å³¨çœ‰ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "west10",
                    phase: "æŠ—æˆ˜è¥¿è¿ (åŒ—è·¯)",
                    route: "æˆéƒ½ â†’ å³¨çœ‰ (å…¬è·¯)",
                    startCity: "æˆéƒ½",
                    endCity: "å³¨çœ‰",
                    transport: "highway",
                    color: "#2e7d32",
                    years: "1937-1939",
                    count: "çº¦7,287ç®±",
                    storage: "å››å·å³¨çœ‰",
                    event: "æŠ—æˆ˜çˆ†å‘åï¼Œæ–‡ç‰©åˆ†ä¸‰è·¯è¥¿è¿ã€‚åŒ—è·¯ç»å¾å·ã€å®é¸¡ã€æ±‰ä¸­è‡³å³¨çœ‰ã€‚",
                    startYear: 1937,
                    endYear: 1939
                },
                {
                    id: "east1",
                    phase: "æˆ˜åä¸œå½’",
                    route: "å„å­˜æ”¾åœ° â†’ é‡åº† (é›†ä¸­)",
                    startCity: "ä¹å±±",
                    endCity: "é‡åº†",
                    transport: "highway",
                    color: "#2e7d32",
                    years: "1947-1947",
                    count: "çº¦16,600ç®± (å³æˆåŠŸè¥¿è¿çš„å…¨éƒ¨ç®±ä»¶)",
                    storage: "è¿”å›å—äº¬æœå¤©å®«åº“æˆ¿",
                    event: "æŠ—æˆ˜èƒœåˆ©åï¼Œä¸‰è·¯è¥¿è¿æ–‡ç‰©å…ˆé›†ä¸­äºé‡åº†ï¼Œåå…¨éƒ¨è¿å›å—äº¬ã€‚",
                    startYear: 1947,
                    endYear: 1947
                },
                {
                    id: "east2",
                    phase: "æˆ˜åä¸œå½’",
                    route: "é‡åº† â†’ å—äº¬ (é•¿æ±Ÿèˆªè¿)",
                    startCity: "é‡åº†",
                    endCity: "å—äº¬",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1947-1947",
                    count: "çº¦16,600ç®± (å³æˆåŠŸè¥¿è¿çš„å…¨éƒ¨ç®±ä»¶)",
                    storage: "è¿”å›å—äº¬æœå¤©å®«åº“æˆ¿",
                    event: "æŠ—æˆ˜èƒœåˆ©åï¼Œä¸‰è·¯è¥¿è¿æ–‡ç‰©å…ˆé›†ä¸­äºé‡åº†ï¼Œåå…¨éƒ¨è¿å›å—äº¬ã€‚",
                    startYear: 1947,
                    endYear: 1947
                },
                {
                    id: "taiwan",
                    phase: "éƒ¨åˆ†æ–‡ç‰©è¿å°",
                    route: "å—äº¬ â†’ å°åŒ— (æµ·è¿)",
                    startCity: "å—äº¬",
                    endCity: "å°åŒ—",
                    transport: "waterway",
                    color: "#1e6bb8",
                    years: "1948-1949",
                    count: "è¿å°ï¼š2,972ç®± (çº¦å æ•…å®«å—è¿æ–‡ç‰©çš„22%)",
                    storage: "å°åŒ—",
                    event: "éƒ¨åˆ†æ–‡ç‰©åˆ†ä¸‰æ‰¹è¢«è¿å¾€å°æ¹¾ã€‚",
                    startYear: 1948,
                    endYear: 1949
                }
            ];
            
            // åŸå¸‚ä½ç½®æ•°æ® - ç»çº¬åº¦
            const geoCoordMap = {
                'åŒ—äº¬': [116.4, 39.9],
                'ä¸Šæµ·': [121.47, 31.23],
                'å—äº¬': [118.8, 32.06],
                'é•¿æ²™': [112.93, 28.23],
                'è´µé˜³': [106.63, 26.65],
                'é‡åº†': [106.55, 29.57],
                'æ­¦æ±‰': [114.31, 30.59],
                'ä¹å±±': [103.77, 29.6],
                'å¾å·': [117.2, 34.27],
                'å®é¸¡': [107.24, 34.37],
                'æˆéƒ½': [104.07, 30.67],
                'å³¨çœ‰': [103.48, 29.62],
                'å°åŒ—': [121.56, 25.03]
            };
            
            // åˆå§‹åŒ–EChartså®ä¾‹
            const migrationChart = echarts.init(document.getElementById('migration-chart'));
            
            // å­˜å‚¨è·¯çº¿å…ƒç´ 
            const activePhases = new Set();
            
            // ç”Ÿæˆé˜¶æ®µæŒ‰é’®
            const phaseButtonsContainer = document.getElementById('phaseButtons');
            const phases = [...new Set(migrationData.map(item => item.phase))];
            
            phases.forEach(phase => {
                const button = document.createElement('button');
                button.className = 'phase-btn';
                button.textContent = phase;
                button.dataset.phase = phase;
                
                button.addEventListener('click', function() {
                    this.classList.toggle('active');
                    
                    if (this.classList.contains('active')) {
                        activePhases.add(phase);
                    } else {
                        activePhases.delete(phase);
                    }
                    
                    updateMigrationChart();
                });
                
                phaseButtonsContainer.appendChild(button);
            });
            
            // æ·»åŠ "å…¨é€‰"æŒ‰é’®
            const allButton = document.createElement('button');
            allButton.className = 'phase-btn active';
            allButton.textContent = 'å…¨é€‰';
            allButton.addEventListener('click', function() {
                const allPhasesCheckbox = document.getElementById('allPhases');
                allPhasesCheckbox.checked = !allPhasesCheckbox.checked;
                toggleAllPhases(allPhasesCheckbox.checked);
            });
            phaseButtonsContainer.appendChild(allButton);
            
            // å…¨é€‰å¤é€‰æ¡†äº‹ä»¶
            document.getElementById('allPhases').addEventListener('change', function() {
                toggleAllPhases(this.checked);
            });
            
            // æ—¶é—´è½´æ»‘å—äº‹ä»¶
            const timelineSlider = document.getElementById('timelineSlider');
            const currentYearDisplay = document.getElementById('currentYear');
            
            timelineSlider.addEventListener('input', function() {
                const year = this.value;
                currentYearDisplay.textContent = year + 'å¹´';
                updateMigrationChart();
            });
            
            // åˆå§‹æ—¶é€‰ä¸­æ‰€æœ‰é˜¶æ®µ
            function toggleAllPhases(showAll) {
                const phaseButtons = document.querySelectorAll('.phase-btn[data-phase]');
                
                if (showAll) {
                    phaseButtons.forEach(btn => {
                        btn.classList.add('active');
                        activePhases.add(btn.dataset.phase);
                    });
                } else {
                    phaseButtons.forEach(btn => {
                        btn.classList.remove('active');
                        activePhases.delete(btn.dataset.phase);
                    });
                }
                
                updateMigrationChart();
            }
            
            // åˆå§‹åŒ–å…¨é€‰
            toggleAllPhases(true);
            
            // æ›´æ–°EChartså›¾è¡¨
            function updateMigrationChart() {
                const selectedYear = parseInt(timelineSlider.value);
                
                // ç­›é€‰è·¯çº¿æ•°æ®
                const filteredRoutes = migrationData.filter(route => {
                    // æ£€æŸ¥é˜¶æ®µæ˜¯å¦è¢«é€‰ä¸­
                    if (!activePhases.has(route.phase)) return false;
                    
                    // æ£€æŸ¥å¹´ä»½æ˜¯å¦åœ¨èŒƒå›´å†…
                    return route.startYear <= selectedYear;
                });
                
                // ç”ŸæˆBJ_Dataæ ¼å¼çš„è·¯çº¿æ•°æ®
                const BJ_Data = filteredRoutes.map(route => [
                    {name: route.startCity},
                    {name: route.endCity}
                ]);
                
                // è½¬æ¢æ•°æ®æ ¼å¼ä¾›EChartsä½¿ç”¨
                const convertData = function (data) {
                    var res = [];
                    for (var i = 0; i < data.length; i++) {
                        var dataItem = data[i];
                        var fromCoord = geoCoordMap[dataItem[0].name];
                        var toCoord = geoCoordMap[dataItem[1].name];
                        if (fromCoord && toCoord) {
                            res.push({
                                fromName: dataItem[0].name,
                                toName: dataItem[1].name,
                                coords: [fromCoord, toCoord],
                                lineStyle: {
                                    color: filteredRoutes[i].color,
                                    width: 1,
                                    opacity: 0.6,
                                    curveness: 0.2
                                }
                            });
                        }
                    }
                    return res;
                };
                
                // ä½¿ç”¨ standard grid æ¨¡æ‹Ÿåœ°å›¾æŠ•å½±
                const optionMigration = {
                    backgroundColor: 'transparent',
                    title: {
                        text: '1933-1949 æ–‡ç‰©å¤§è¿å¾™',
                        left: 'center',
                        textStyle: { color: '#e6d2a9' }
                    },
                    tooltip: { 
                        trigger: 'item',
                        formatter: function(params) {
                            if (params.componentType === 'series' && params.seriesType === 'lines') {
                                const routeIndex = params.dataIndex;
                                const routeData = filteredRoutes[routeIndex];
                                return `
                                <div style="font-weight:bold;color:#daa520;margin-bottom:5px;">${routeData.phase}</div>
                                <div><strong>è·¯çº¿ï¼š</strong>${routeData.route}</div>
                                <div><strong>æ—¶é—´ï¼š</strong>${routeData.years}</div>
                                <div><strong>æ–‡ç‰©æ•°é‡ï¼š</strong>${routeData.count.split('ã€‚')[0]}</div>
                                <div><strong>å­˜æ”¾åœ°ï¼š</strong>${routeData.storage}</div>
                                `;
                            } else if (params.componentType === 'series' && params.seriesType === 'effectScatter') {
                                return `<div><strong>${params.name}</strong><br/>æ–‡ç‰©è¿ç§»é€”ç»åŸå¸‚</div>`;
                            }
                            return params.name;
                        },
                        backgroundColor: 'rgba(26, 15, 12, 0.9)',
                        borderColor: '#8a251c',
                        borderWidth: 1,
                        textStyle: {
                            color: '#e6d2a9'
                        }
                    },
                    grid: { top: 50, bottom: 50, left: 50, right: 50 },
                    xAxis: { 
                        type: 'value', 
                        min: 100, max: 125, 
                        show: false // éšè—åæ ‡è½´
                    },
                    yAxis: { 
                        type: 'value', 
                        min: 20, max: 45, 
                        show: false // éšè—åæ ‡è½´
                    },
                    series: [
                        {
                            name: 'åœ°ç‚¹',
                            type: 'effectScatter',
                            coordinateSystem: 'cartesian2d',
                            zlevel: 2,
                            rippleEffect: { brushType: 'stroke' },
                            label: { 
                                show: true, 
                                position: 'right', 
                                formatter: '{b}',
                                color: '#e6d2a9',
                                fontSize: 12,
                                fontWeight: 'bold',
                                textShadowColor: '#000',
                                textShadowBlur: 5
                            },
                            symbolSize: 12,
                            itemStyle: { 
                                color: '#E2C33D',
                                borderColor: '#8a251c',
                                borderWidth: 2
                            },
                            data: Object.keys(geoCoordMap).map(function (key) {
                                return { name: key, value: [...geoCoordMap[key], 10] };
                            })
                        },
                        {
                            name: 'è·¯çº¿',
                            type: 'lines',
                            coordinateSystem: 'cartesian2d',
                            zlevel: 1,
                            effect: {
                                show: true,
                                period: 6,
                                trailLength: 0.7,
                                color: '#fff',
                                symbolSize: 3
                            },
                            lineStyle: {
                                color: '#a6c84c',
                                width: 0,
                                curveness: 0.2
                            },
                            data: convertData(BJ_Data)
                        },
                        {
                            name: 'è·¯çº¿è½¨è¿¹',
                            type: 'lines',
                            coordinateSystem: 'cartesian2d',
                            zlevel: 2,
                            symbol: ['none', 'arrow'],
                            symbolSize: 10,
                            lineStyle: function(params) {
                                // æ ¹æ®è¿è¾“æ–¹å¼è®¾ç½®é¢œè‰²
                                const routeIndex = params.dataIndex;
                                const routeData = filteredRoutes[routeIndex];
                                return {
                                    color: routeData ? routeData.color : '#a6c84c',
                                    width: 1,
                                    opacity: 0.8,
                                    curveness: 0.2
                                };
                            },
                            data: convertData(BJ_Data)
                        }
                    ]
                };
                
                migrationChart.setOption(optionMigration, true);
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ˜¾ç¤ºè·¯çº¿è¯¦ç»†ä¿¡æ¯
                migrationChart.on('click', function(params) {
                    if (params.componentType === 'series' && params.seriesType === 'lines') {
                        const routeIndex = params.dataIndex;
                        const routeData = filteredRoutes[routeIndex];
                        
                        if (routeData) {
                            document.getElementById('routeTitle').textContent = routeData.phase;
                            document.getElementById('routePath').textContent = routeData.route;
                            document.getElementById('routeTime').textContent = routeData.years;
                            document.getElementById('routeCount').textContent = routeData.count;
                            document.getElementById('routeStorage').textContent = routeData.storage;
                            document.getElementById('routeEvent').textContent = routeData.event;
                            
                            // æ˜¾ç¤ºè·¯çº¿ä¿¡æ¯æ¡†
                            document.getElementById('routeInfo').style.display = 'block';
                        }
                    }
                });
            }
            
            // åˆå§‹åŠ è½½EChartså›¾è¡¨
            updateMigrationChart();
            
            // å“åº”å¼è°ƒæ•´
            window.addEventListener('resize', function() {
                migrationChart.resize();
            });
            
            // åˆå§‹åŒ–å›¾è¡¨
            initCharts();
        });
        // ä¿®å¤è¿‡ç¨‹æ­¥éª¤åŠ¨ç”»æ•ˆæœ
document.addEventListener('DOMContentLoaded', function() {
    const processSteps = document.querySelectorAll('.process-step');
    
    // åˆ›å»ºè§‚å¯Ÿå™¨ï¼Œå®ç°æ»šåŠ¨æ—¶æ­¥éª¤çš„æ·¡å…¥æ•ˆæœ
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-step');
                
                // ä¸ºæ¯ä¸ªæ­¥éª¤æ·»åŠ å»¶è¿ŸåŠ¨ç”»æ•ˆæœ
                const stepNumber = entry.target.querySelector('.step-number');
                if (stepNumber) {
                    stepNumber.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        stepNumber.style.transform = 'scale(1)';
                    }, 300);
                }
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    // è§‚å¯Ÿæ¯ä¸ªæ­¥éª¤
    processSteps.forEach(step => {
        observer.observe(step);
    });
});
        
              
    </script>
</body>
</html>